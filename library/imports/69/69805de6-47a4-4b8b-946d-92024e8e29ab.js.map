{"version":3,"sources":["assets\\script\\game\\GroundItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6CAAwC;AACxC,kDAA6C;AAC7C,mCAAyC;AAMnC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAM;IAA9C;QAAA,qEA6EC;QAjBW,WAAK,GAAG,CAAC,CAAC;;IAiBtB,CAAC;mBA7EoB,UAAU;IAEpB,sBAAW,GAAlB;QAEI,IAAI,OAAO,GAAG,CAAC,CAAC,CAAA;QAChB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,EAAE,EAAC,EAAE,CAAC,EACxB;YACI,IAAG,mBAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,EAC/B;gBACI,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;oBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC;gBACrD,OAAO,GAAG,CAAC,CAAC;gBACZ,MAAM;aACT;SACJ;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,gCAAW,GAAX,UAAY,KAAK,EAAE,eAAe;QAC9B,uCAAuC;QACvC,2BAA2B;QAC3B,8BAA8B;QAC9B,IAAI;QACJ,0CAA0C;QAC1C,cAAc;QACd,IAAI;QAEJ,oCAAoC;QACpC,gBAAgB;QAChB,IAAI;QACJ,kDAAkD;QAClD,QAAQ;QACR,iCAAiC;QACjC,iBAAiB;QACjB,QAAQ;QACR,IAAI;QACJ,OAAO;QACP,IAAI;QACJ,iDAAiD;QACjD,QAAQ;QACR,iCAAiC;QACjC,iBAAiB;QACjB,QAAQ;QACR,IAAI;QAEJ,gCAAgC;QAChC,gBAAgB;QAChB,IAAI;QACJ,+CAA+C;QAC/C,IAAI;QACJ,OAAO;QACP,IAAI;QACJ,8CAA8C;QAC9C,IAAI;QACJ,8BAA8B;QAC9B,4BAA4B;QAC5B,eAAe;QACf,8CAA8C;QAC9C,6BAA6B;IACjC,CAAC;IAGD,6BAAQ,GAAR,UAAS,CAAC;QAEN,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,CAAC,WAAW,EAAC,CAAC,GAAC,EAAE,CAAC,CAAC;QAC/B,IAAI,OAAO,GAAG,YAAU,CAAC,WAAW,EAAE,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,GAAC,CAAC,IAAE,OAAO,IAAI,OAAO,IAAG,CAAC,CAAC,CAAC;QAEvF,yDAAyD;QACzD,gDAAgD;QAChD,IAAI,IAAI,GAAG,mBAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC;QACnD,IAAI,GAAG,GAAO,sBAAa,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,KAAK,WAAG,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,eAAe,EAAC,GAAG,CAAC,CAAC;IACtC,CAAC;;IA5EgB,UAAU;QAD9B,OAAO;OACa,UAAU,CA6E9B;IAAD,iBAAC;CA7ED,AA6EC,CA7EuC,gBAAM,GA6E7C;kBA7EoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import BaseUI from '../framwork/BaseUI';\r\nimport ChickData from '../manager/ChickData';\r\nimport { Config_ground } from './Config';\r\nimport Utils from '../utils/Utils';\r\nimport MsgToast from '../framwork/MsgToast';\r\nimport GameConst from './GameConst';\r\nimport HallScene from './HallScene';\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GroundItem extends BaseUI {\r\n\r\n    static getNeedOpen()\r\n    {\r\n        let curopen = -1\r\n        for(var i = 1;i < 12;++i)\r\n        {\r\n            if(ChickData.user.slots[i] == 0)\r\n            {\r\n                if(window && window['xxxxx']) window['xxxxx'](\"jJY\");\r\n                curopen = i;\r\n                break;\r\n            }\r\n        }\r\n        return curopen;\r\n    }\r\n\r\n    onUIClicked(event, customEventData) {\r\n        // let curopen = SlotItem.getCurOpen();\r\n        // if(curopen == -1)return;\r\n        // if(this.index-1 > curopen )\r\n        // {\r\n        //     MsgHints.show(\"需要先解锁\"+(curopen+1));\r\n        //     return;\r\n        // }\r\n\r\n        // let type = DB_slot[curopen].type;\r\n        // if(type == 0)\r\n        // {\r\n        //     if(Data.user.coin < DB_slot[curopen].price)\r\n        //     {\r\n        //         MsgHints.show(\"金币不足\");\r\n        //         return\r\n        //     }\r\n        // }\r\n        // else\r\n        // {\r\n        //     if(Data.user.gem < DB_slot[curopen].price)\r\n        //     {\r\n        //         MsgHints.show(\"钻石不足\");\r\n        //         return\r\n        //     }\r\n        // }\r\n\r\n        // Data.user.slots[curopen] = 1;\r\n        // if(type == 0)\r\n        // {\r\n        //     Data.user.coin -= DB_slot[curopen].price\r\n        // }\r\n        // else\r\n        // {\r\n        //     Data.user.gem -= DB_slot[curopen].price\r\n        // }\r\n        // console.log(\"解锁土地\",curopen)\r\n        // MsgHints.show(\"成功解锁新位置\");\r\n        // Data.save();\r\n        // this.dispatch(GameConst.OPEN_SLOT,curopen);\r\n        // this.setIndex(this.index);\r\n    }\r\n\r\n    private index = 0;\r\n    setIndex(i)\r\n    {\r\n        this.index = i;\r\n        this.SetText(\"lbl_index\",i+\"\");\r\n        let curopen = GroundItem.getNeedOpen();\r\n        this.node.getComponent(cc.Button).interactable = this.index-1>=curopen && curopen !=-1;\r\n\r\n        // this.GetSkeleton(\"fx_slot\").setAnimation(0,\"buy\",true)\r\n        // this.GetGameObject(\"fx_slot\").active = false;\r\n        let info = ChickData.user.slots[i-1];\r\n        this.GetGameObject(\"lock\").active = info == 0;\r\n        this.GetGameObject(\"lbl_index\").active = info == 0;\r\n        this.GetGameObject(\"node_cost\").active = info == 0;\r\n        let str  = `${Config_ground[i-1].price}级`;\r\n        this.SetText(\"lbl_open_cost\",str);\r\n    }\r\n}\r\n"]}