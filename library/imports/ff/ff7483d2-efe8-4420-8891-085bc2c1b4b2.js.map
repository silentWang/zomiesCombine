{"version":3,"sources":["assets\\script\\utils\\Utils.ts"],"names":[],"mappings":";;;;;;AAAA,iCAAgC;AAChC,6CAAwC;AACxC,8CAAyC;AACzC,+CAA6D;AAE7D,IAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,CAAA;AAEvB;IAAA;IAwVA,CAAC;IAvVU,cAAQ,GAAf,UAAgB,QAAgB,EAAE,MAAsB,EAAE,QAAyB;QAAjD,uBAAA,EAAA,aAAsB;QAAE,yBAAA,EAAA,eAAyB;QAC/E,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,MAAM,EAAE,UAAC,GAAG,EAAE,GAAG;gBAC5C,IAAI,GAAG,EAAE;oBACL,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;oBAClB,MAAM,EAAE,CAAC;oBACT,OAAO;iBACV;gBAED,IAAI,MAAM,IAAI,IAAI,EAAE;oBAChB,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;iBAC7B;gBAED,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;oBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC;gBACtD,IAAI,KAAK,GAAG,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACtC,IAAI,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC;gBAC/D,IAAI,MAAM,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAE;oBACrC,wBAAwB;oBACxB,OAAM;iBACT;gBACD,IAAI,GAAG,GAAY,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACvC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC;gBAChB,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC;oBACtD,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC;gBACtB,CAAC,CAAC,CAAC,CAAC,CAAA;gBACJ,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC;gBACpB,IAAI,QAAQ;oBAAE,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAC5B,OAAO,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CAAA;QACN,CAAC,CAAC,CAAA;IACN,CAAC;IAEa,kBAAY,GAA1B,UAA2B,KAAK,EAAE,KAAK;QACnC,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;IAC/D,CAAC;IAAA,CAAC;IAEY,eAAS,GAAvB,UAAwB,KAAK,EAAE,KAAK;QAChC,OAAO,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC;IACnD,CAAC;IAAA,CAAC;IAEY,eAAS,GAAvB,UAAwB,CAAC;QACrB,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAC3B,CAAC;IAAA,CAAC;IAEY,kBAAY,GAA1B,UAA2B,GAAW,EAAE,QAAoB;QAApB,yBAAA,EAAA,YAAoB;QACxD,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC;QACxD,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACtB,OAAO,qBAAW,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC;IAAA,CAAC;IAEY,mBAAa,GAA3B,UAA4B,IAAY;QACpC,KAAK,CAAC,UAAU,GAAG,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QAC/C,EAAE,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,UAAU,CAAC,CAAA;IAC3C,CAAC;IACa,mBAAa,GAA3B,UAA4B,KAAK,EAAE,KAAK;QACpC,OAAO,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAC5C,CAAC;IAGa,mBAAa,GAA3B;QACI,OAAO,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,UAAU,CAAC;IACnD,CAAC;IAEa,WAAK,GAAnB,UAAoB,QAAgB,EAAE,UAAkB,EAAE,UAAkB;QACxE,IAAI,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC3C,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;QACb,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;QACb,MAAM,CAAC,cAAc,EAAE,CAAC;QACxB,MAAM,CAAC,SAAS,CAAC,aAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC,CAAC;IACrE,CAAC;IAIa,aAAO,GAArB,UAAsB,QAAyB;QAAzB,yBAAA,EAAA,eAAyB;QAC3C,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,eAAe,CAAC,CAAC;QAC/D,IAAI,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,sBAAU,CAAC,MAAM,CAAC,CAAA;QACpD,IAAI,WAAW,GAAG,sBAAU,CAAC,KAAK,CAAC,CAAA;QACnC,IAAI,UAAU,GAAG,wBAAY,CAAC,KAAK,CAAC,CAAC;QAGrC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,MAAM,CAAC,IAAI,CAAC,EAAE;YACd,EAAE,CAAC,eAAe,CAAC;gBACf,KAAK,EAAE,UAAU;gBACjB,QAAQ,EAAE,WAAW;gBACrB,OAAO;oBACH,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;wBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,6BAA6B,CAAC,CAAC;oBAC7E,IAAI,QAAQ;wBAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACjC,CAAC;gBACD,IAAI,YAAC,CAAC;oBACF,uBAAuB;oBACvB,mBAAmB;gBACvB,CAAC;aACJ,CAAC,CAAC;SACN;aACI;YAED,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;gBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;YACnD,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;YAC/B,IAAI,EAAE,CAAC,GAAG,CAAC,QAAQ,IAAI,EAAE,CAAC,GAAG,CAAC,WAAW,EAAE;gBACvC,EAAE,CAAC,eAAe,CAAC;oBACf,KAAK,EAAE,UAAU;oBACjB,QAAQ,EAAE,WAAW;iBACxB,CAAC,CAAA;aACL;SACJ;IACL,CAAC;IAEa,mBAAa,GAA3B,UAA4B,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,eAAe;QACzE,IAAI,YAAY,GAAG,IAAI,EAAE,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QACnD,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC;QAC7B,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC;QACnC,YAAY,CAAC,OAAO,GAAG,OAAO,CAAC;QAC/B,IAAI,eAAe;YAAE,YAAY,CAAC,eAAe,GAAG,eAAe,CAAC;QAEpE,IAAI,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC;QAC3D,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,IAAI,CAAC,SAAS;gBACV,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1C,OAAO;SACV;QACD,+CAA+C;QAC/C,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,6BAA6B,CAAC,CAAC;QAC7E,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACnC,CAAC;IACW,6BAAa,GAArB,cAAyB,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC;IAE1D,mBAAa,GAA3B,UAA4B,MAAc;QACtC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAC5B,IAAI,MAAM,GAAG,CAAC;YAAE,MAAM,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;QACvC,MAAM,IAAI,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;QAClC,MAAM,IAAI,CAAC,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC;QAChC,MAAM,IAAI,CAAC,GAAG,EAAE,CAAC;QACjB,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,EAAE;YACP,KAAK,GAAG,EAAE,GAAG,CAAC,CAAC;SAClB;aAAM;YACH,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC;SACnB;QACD,IAAI,GAAG,GAAG,IAAI,CAAC;QACf,IAAI,CAAC,GAAG,CAAC,EAAE;YACP,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;SAChB;aAAM;YACH,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;SACjB;QACD,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,+BAA+B,CAAC,CAAC;QAC/E,IAAI,MAAM,GAAG,CAAC,EAAE;YACZ,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC;SACtB;aAAM;YACH,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC;SACvB;QAED,IAAI,CAAC,GAAG,CAAC,EAAE;YACP,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;SACtC;aACI;YACD,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;gBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC;YACrB,IAAI,QAAQ,EAAE;gBACV,OAAO,KAAK,GAAG,GAAG,GAAG,GAAG,CAAE;aAC7B;iBAAM;gBACH,OAAO,GAAG,GAAG,GAAG,GAAG,IAAI,CAAE,CAAA,QAAQ;aACpC;SACJ;IACL,CAAC;IAGa,iBAAW,GAAzB,UAA0B,IAAW;QAEjC,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,MAAM;YAC9B,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAC,IAAI,CAAC,CAAA;YACpC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,EAAC,UAAC,GAAG,EAAC,GAAG;gBACpC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,IAAI,CAAC,CAAA;gBAClC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;gBAChB,OAAO,CAAC,IAAI,CAAC,CAAC;YAClB,CAAC,CAAC,CAAA;QACN,CAAC,CAAC,CAAA;IACN,CAAC;IACO,6BAAa,GAArB,cAAyB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAEjC,gBAAU,GAAxB,UAAyB,GAAW;QAChC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACtB,OAAO,qBAAW,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC;IAEa,YAAM,GAApB,UAAqB,CAAW;QAC5B,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC/B,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SACxB;QACD,IAAI,YAAY,IAAI,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC;QACjC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,YAAY,CAAC;QAC1E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC/B,IAAI,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;gBAChB,OAAO,CAAC,CAAC;aACZ;iBACI;gBACD,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACnB;SACJ;QACD,OAAO,CAAC,CAAC,CAAC;IACd,CAAC;IAEa,aAAO,GAArB,UAAsB,IAAY,EAAE,IAAqB,EAAC,QAAiB;QAAjB,yBAAA,EAAA,eAAiB;QACvE,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,IAAI,MAAM,GAAG,WAAW,CAAC;YACzB,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;gBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,+BAA+B,CAAC,CAAC;YAC/E,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;YACzB,IAAG,GAAG,CAAC,MAAM,IAAI,CAAC,EAClB;gBACI,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;YAED,IAAI,GAAG,GAAG,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;YAC3D,IAAG,GAAG,EACN;gBACI,IAAG,QAAQ;oBACP,QAAQ,CAAC,IAAI,EAAC,GAAG,CAAC,CAAC;gBACvB,OAAO,CAAC,GAAG,CAAC,CAAC;gBACb,OAAO;aACV;YAED,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,UAAC,GAAG,EAAC,GAAG;gBACrD,IAAI,GAAG,EAAE;oBACL,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;oBACpB,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;oBACnB,MAAM,CAAC,IAAI,CAAC,CAAC;iBAChB;qBACI;oBACD,IAAG,QAAQ;wBACP,QAAQ,CAAC,IAAI,EAAC,GAAG,CAAC,CAAC;oBACvB,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;wBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC;oBACxD,OAAO,CAAC,GAAG,CAAC,CAAC;iBAChB;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAA;IACN,CAAC;IAEa,aAAO,GAArB,UAAsB,IAAW,EAAG,SAAkB,EAAE,cAAsB,EAAE,KAAa,EAAE,MAAc,EAAE,QAAkB;QAC7H,IAAI,QAAQ,GAAG,UAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK;YAC5B,IAAI,KAAK,GAAG,EAAE,CAAC,CAAC,IAAI;YACpB,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI;YACzD,CAAC,GAAG,CAAC,CAAC;YACV,OAAO,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;gBACnB,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC,EAClC,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;gBAEvC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU;aACzC;YACD,OAAO,KAAK,CAAC;QACjB,CAAC,CAAA;QAED,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,6BAA6B,CAAC,CAAC;QAC7E,IAAI,UAAU,GAAG,UAAC,IAAI;YAClB,IAAG,IAAI,IAAI,CAAC;gBAAE,OAAO,iBAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpD,OAAO,IAAI,CAAC;QAChB,CAAC,CAAA;QAED,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAG,SAAS,IAAI,SAAS,CAAC,MAAM,EAAC;YAC7B,IAAI,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YACvE,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YACtD,IAAI,KAAK,GAAG,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YACtD,IAAG,CAAC,KAAK,EAAE;gBACP,QAAQ,CAAC,CAAC,CAAC,CAAA;gBACX,OAAO;aACV;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC5B,IAAG,CAAC,IAAI,EAAE;oBACN,QAAQ,CAAC,CAAC,CAAC,CAAA;oBACX,OAAO;iBACV;gBACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;gBAC/B,IAAI,OAAO,GAAG,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBACpG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBACxB,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,MAAA,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;aACrC;SACJ;QAED,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC;QACvD,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,OAAO,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;QAAC,CAAC,CAAA,mDAAmD;QAC7I,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,qBAAqB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACpE,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAE,oBAAoB,CAAC,MAAM,CAAC,CAAA;QACxD,IAAI,cAAc,GAAG,OAAO,CAAC;QAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACvC,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YAC/B,IAAI,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAC7B,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;YACzB,IAAI,GAAG,GAAG,EAAE,CAAC,QAAQ,CACjB,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,EACnB,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,EACtB,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,EAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EACxC,EAAE,CAAC,QAAQ,CAAC,UAAC,IAAI;gBACb,IAAI,CAAC,OAAO,EAAE;oBACV,cAAc,CAAC,cAAc,EAAE,CAAC;oBAChC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC3B,OAAO,GAAG,IAAI,CAAC;oBACf,IAAI,GAAG,GAAG,EAAE,CAAC,QAAQ,CACjB,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EACrB,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EACrB,EAAE,CAAC,QAAQ,CAAC;wBACR,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;4BAAE,MAAM,CAAC,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC;wBACjE,OAAO,GAAG,KAAK,CAAC;oBACpB,CAAC,CAAC,CACL,CAAC;oBACF,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;iBACjC;gBACD,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAC1C,iBAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;YAC3C,CAAC,CAAC,CACL,CAAC;YACF,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;SACvB;IACL,CAAC;IAED,KAAK;IACS,cAAQ,GAAtB,UAAuB,GAAW,EAAE,KAAiB;QAAjB,sBAAA,EAAA,SAAiB;QACjD,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,uBAAuB,CAAC,CAAC;QACvE,IAAI,CAAC,GAAG,KAAK,GAAG,GAAG,CAAA;QACnB,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IAEa,gBAAU,GAAxB,UAAyB,MAAc,EAAC,MAAU,EAAC,MAAa,EAAC,QAAc,EAAC,IAAmB;QAAnG,iBAWC;QAXuC,uBAAA,EAAA,UAAU;QAAC,uBAAA,EAAA,aAAa;QAAC,yBAAA,EAAA,cAAc;QAAC,qBAAA,EAAA,WAAmB;QAC/F,MAAM,CAAC,cAAc,EAAE,CAAC;QACxB,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxB,IAAI,GAAG,GAAG,EAAE,CAAC,QAAQ,CACjB,EAAE,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,EACpC,EAAE,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,EACpC,EAAE,CAAC,QAAQ,CAAC;YACR,IAAG,IAAI;gBAAE,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QACrC,CAAC,CAAC,CACL,CAAC;QACF,OAAO,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IACjC,CAAC;IA3Ra,gBAAU,GAAW,CAAC,CAAC;IAavB,eAAS,GAAU,CAAC,CAAC;IACrB,mBAAa,GAAG,IAAI,CAAC;IA+QvC,YAAC;CAxVD,AAwVC,IAAA;kBAxVoB,KAAK;AAwVzB,CAAC","file":"","sourceRoot":"/","sourcesContent":["import { Shake } from \"./Shake\";\r\nimport NumberUtils from \"./NumberUtils\";\r\nimport PoolMgr from \"../manager/PoolMgr\";\r\nimport { share_titles, share_urls } from \"../game/GameConst\";\r\n\r\nconst wx = window[\"wx\"] \r\n\r\nexport default class Utils {\r\n    static createUI(filepath: string, parent: cc.Node = null, callback: Function = null) {\r\n        return new Promise((resolve, reject) => {\r\n            cc.loader.loadRes(filepath, cc.Prefab, (err, ret) => {\r\n                if (err) {\r\n                    console.error(err)\r\n                    reject();\r\n                    return;\r\n                }\r\n\r\n                if (parent == null) {\r\n                    parent = cc.find(\"Canvas\")\r\n                }\r\n\r\n                if(window && window['xxxxx']) window['xxxxx'](\"bcD6\");\r\n                let index = filepath.lastIndexOf(\"/\");\r\n                let name = filepath.substr(index + 1, filepath.length - index);\r\n                if (parent.getComponentInChildren(name)) {\r\n                    // console.log(\"重复UI跳过\")\r\n                    return\r\n                }\r\n                var tmp: cc.Node = cc.instantiate(ret);\r\n                tmp.opacity = 0;\r\n                tmp.runAction(cc.sequence(cc.delayTime(0.01), cc.callFunc(() => {\r\n                    tmp.opacity = 255;\r\n                })))\r\n                tmp.parent = parent;\r\n                if (callback) callback(tmp);\r\n                resolve(tmp);\r\n            })\r\n        })\r\n    }\r\n\r\n    public static getRandomInt(lower, upper): number {\r\n        return Math.floor(Math.random() * (upper - lower)) + lower;\r\n    };\r\n\r\n    public static getRandom(lower, upper): number {\r\n        return Math.random() * (upper - lower) + lower;\r\n    };\r\n\r\n    public static getPowNum(p) {\r\n        return Math.pow(10, p);\r\n    };\r\n    \r\n    public static formatNumber(num: number, afterdot: number = 1) {\r\n        if(window && window['xxxxx']) window['xxxxx'](\"HX7tS6\");\r\n        num = Math.floor(num);\r\n        return NumberUtils.getLargeString(num);\r\n    };\r\n    \r\n    public static setServerTime(time: number) {\r\n        Utils.timeOffset = time - new Date().getTime();\r\n        cc.log(\"timeOffset:\", Utils.timeOffset)\r\n    }\r\n    public static seedRandomInt(lower, upper): number {\r\n        return Utils.getRandomInt(lower, upper);\r\n    }\r\n\r\n    public static timeOffset: number = 0;\r\n    public static getServerTime() {\r\n        return new Date().getTime() + Utils.timeOffset;\r\n    }\r\n\r\n    public static Shake(duration: number, strength_x: number, strength_y: number) {\r\n        let camera = cc.find(\"Canvas/Main Camera\");\r\n        camera.x = 0;\r\n        camera.y = 0;\r\n        camera.stopAllActions();\r\n        camera.runAction(Shake.create(duration, strength_x, strength_y));\r\n    }\r\n\r\n    public static sharetime:number = 0;\r\n    public static sharecallback = null;\r\n    public static wxShare(callback: Function = null) {\r\n        if(window && window['xxxxx']) window['xxxxx'](\"WssEyQcp7HRrw\");\r\n        let index = Utils.getRandomInt(0, share_urls.length)\r\n        var shareImgUrl = share_urls[index]\r\n        var shareTitle = share_titles[index];\r\n\r\n        \r\n        Utils.sharetime = Utils.getServerTime();\r\n        if (window[\"tt\"]) {\r\n            wx.shareAppMessage({\r\n                title: shareTitle,\r\n                imageUrl: shareImgUrl,\r\n                success() {\r\n                    if(window && window['xxxxx']) window['xxxxx'](\"RrNJSnGEXbtZShp347i7FN6728r\");\r\n                    if (callback) callback(true);\r\n                },\r\n                fail(e) {\r\n                    // console.log(\"分享失败\");\r\n                    // callback(false);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            \r\n            if(window && window['xxxxx']) window['xxxxx'](\"Y\");\r\n            Utils.sharecallback = callback;\r\n            if (cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n                wx.shareAppMessage({\r\n                    title: shareTitle,\r\n                    imageUrl: shareImgUrl\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    public static addClickEvent(node, target, component, handler, customEventData) {\r\n        var eventHandler = new cc.Component.EventHandler();\r\n        eventHandler.target = target;\r\n        eventHandler.component = component;\r\n        eventHandler.handler = handler;\r\n        if (customEventData) eventHandler.customEventData = customEventData;\r\n\r\n        var clickEvents = node.getComponent(cc.Button).clickEvents;\r\n        if (clickEvents.length > 0) {\r\n            if (!CC_EDITOR)\r\n                cc.warn(\"按钮已经存在绑定，跳过自动绑定\", node.name);\r\n            return;\r\n        }\r\n        // console.log(node.name,target.name,component)\r\n        if(window && window['xxxxx']) window['xxxxx'](\"4mwdEWWjnrdPnwMywBNwpD8nCaD\");\r\n        clickEvents.push(eventHandler);\r\n    }\r\n        private cnAY_xxxx_fun(){ console.log(\"JR7cfYHJnZNHmQc3GXajPiMrB\"); }\r\n\r\n    public static getTimeStrByS(second: number) {\r\n        second = Math.floor(second);\r\n        if (second < 0) second = 0;\r\n        var d = Math.floor(second / 3600 / 24);\r\n        second -= d * 3600 * 24;\r\n        var h = Math.floor(second / 3600);\r\n        second -= h * 3600;\r\n        var m = Math.floor(second / 60);\r\n        second -= m * 60;\r\n        var front = \"00\";\r\n        if (h > 9) {\r\n            front = \"\" + h;\r\n        } else {\r\n            front = \"0\" + h;\r\n        }\r\n        var mid = \"00\";\r\n        if (m > 9) {\r\n            mid = \"\" + m;\r\n        } else {\r\n            mid = \"0\" + m;\r\n        }\r\n        var back = \"00\";\r\n        if(window && window['xxxxx']) window['xxxxx'](\"KZYp2pM3yfrdpKtABSdHitmb36wnP\");\r\n        if (second > 9) {\r\n            back = \"\" + second;\r\n        } else {\r\n            back = \"0\" + second;\r\n        }\r\n\r\n        if (d > 0) {\r\n            return d + \"天\" + h + \"时\" + m + \"分\";\r\n        }\r\n        else {\r\n            if(window && window['xxxxx']) window['xxxxx'](\"Khf\");\r\n            var longTime = h > 0;\r\n            if (longTime) {\r\n                return front + \":\" + mid ;\r\n            } else {\r\n                return mid + \":\" + back ;//+ '秒';\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    public static loadBundler(name:string)\r\n    {\r\n        return new Promise((resolve,reject)=>{\r\n            console.log('----bbbbbbbbb---',name)\r\n            cc.assetManager.loadBundle(name,(err,ret)=>{\r\n                console.log('----eeeeeee---',name)\r\n                console.log(ret)\r\n                resolve(null);\r\n            })\r\n        })\r\n    }\r\n    private tSWD_xxxx_fun(){ console.log(\"36dY\"); }\r\n\r\n    public static formatCoin(num: number) {\r\n        num = Math.floor(num);\r\n        return NumberUtils.getLargeString(num);\r\n    }\r\n\r\n    public static weight(v: number[]): number {\r\n        if(window && window['xxxxx']) window['xxxxx'](\"Bt4\");\r\n        var mTotalWeight = 0;\r\n        for (var i = 0; i < v.length; ++i) {\r\n            mTotalWeight += v[i];\r\n        }\r\n        if (mTotalWeight <= 0) return -1;\r\n        var randnum = Math.round(Math.random() * Number.MAX_VALUE) % mTotalWeight;\r\n        for (var i = 0; i < v.length; ++i) {\r\n            if (randnum < v[i]) {\r\n                return i;\r\n            }\r\n            else {\r\n                randnum -= v[i];\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n    public static loadRes(path: string, type: typeof cc.Asset,callback:any=null) {\r\n        return new Promise((resolve, reject) => {\r\n            let bundel = \"resources\";\r\n            if(window && window['xxxxx']) window['xxxxx'](\"MHzpnpCTQKFnEX2FCCBGmApMEexXJ\");\r\n            let arr = path.split(\":\")\r\n            if(arr.length == 2)\r\n            {\r\n                bundel = arr[0];\r\n                path = arr[1];\r\n            }\r\n\r\n            let ret = cc.assetManager.getBundle(bundel).get(path,type);\r\n            if(ret)\r\n            {\r\n                if(callback)\r\n                    callback(null,ret);\r\n                resolve(ret);\r\n                return;\r\n            }\r\n            \r\n            cc.assetManager.getBundle(bundel).load(path,type,(err,ret)=>{\r\n                if (err) {\r\n                    cc.error(path, err);\r\n                    callback(err,null);\r\n                    reject(null);\r\n                }\r\n                else {\r\n                    if(callback)\r\n                        callback(null,ret);\r\n                    if(window && window['xxxxx']) window['xxxxx'](\"2stMFR\");\r\n                    resolve(ret);\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    public static flyAnim(type:number , startNode: cc.Node, targetNodeName: string, count: number, radius: number, callback: Function) {\r\n        let getPoint = (r, ox, oy, count) => {\r\n            var point = []; //结果\r\n            var radians = (Math.PI / 180) * Math.round(360 / count), //弧度\r\n                i = 0;\r\n            for (; i < count; i++) {\r\n                var x = ox + r * Math.sin(radians * i),\r\n                    y = oy + r * Math.cos(radians * i);\r\n\r\n                point.unshift(cc.v2(x, y)); //为保持数据顺时针\r\n            }\r\n            return point;\r\n        }\r\n\r\n        if(window && window['xxxxx']) window['xxxxx'](\"fGdJGTkFQtZJTFF5phWzH3sXw2X\");\r\n        let createNode = (type) => {\r\n            if(type == 0) return PoolMgr.Instance().get(\"Coin\");\r\n            return null;\r\n        }\r\n\r\n        let nodeArray = [];\r\n        if(startNode && startNode.parent){\r\n            let start = startNode.parent.convertToWorldSpaceAR(startNode.position);\r\n            start = cc.find(\"Canvas\").convertToNodeSpaceAR(start);\r\n            var array = getPoint(radius, start.x, start.y, count);\r\n            if(!array) {\r\n                callback(1)\r\n                return;\r\n            }\r\n            for (var i = 0; i < array.length; i++) {\r\n                var gold = createNode(type);\r\n                if(!gold) {\r\n                    callback(1)\r\n                    return;\r\n                }\r\n                gold.parent = cc.find(\"Canvas\")\r\n                var randPos = cc.v2(array[i].x + Utils.getRandomInt(0, 50), array[i].y + Utils.getRandomInt(0, 50));\r\n                gold.setPosition(start);\r\n                nodeArray.push({ gold, randPos });\r\n            }\r\n        }\r\n\r\n        if(window && window['xxxxx']) window['xxxxx'](\"mzkZj\");\r\n        var notPlay = false;\r\n        let srcNode = cc.find(\"Canvas\").getComponent(\"HallScene\").GetGameObject(targetNodeName); ;//HallScene.Instance.GetGameObject(targetNodeName);\r\n        let dstPos = srcNode.parent.convertToWorldSpaceAR(srcNode.position); \r\n        dstPos = cc.find(\"Canvas\") .convertToNodeSpaceAR(dstPos)\r\n        var targetGoldNode = srcNode;\r\n        for (var i = 0; i < nodeArray.length; i++) {\r\n            var pos = nodeArray[i].randPos;\r\n            var node = nodeArray[i].gold;\r\n            nodeArray[i].gold.id = i;\r\n            var seq = cc.sequence(\r\n                cc.moveTo(0.2, pos),\r\n                cc.delayTime(i * 0.03),\r\n                cc.moveTo(0.5, cc.v2(dstPos.x,dstPos.y)),\r\n                cc.callFunc((node) => {\r\n                    if (!notPlay) {\r\n                        targetGoldNode.stopAllActions();\r\n                        targetGoldNode.setScale(1);\r\n                        notPlay = true;\r\n                        var seq = cc.sequence(\r\n                            cc.scaleTo(0.1, 2, 2),\r\n                            cc.scaleTo(0.1, 1, 1),\r\n                            cc.callFunc(() => {\r\n                                if(window && window['xxxxx']) window['xxxxx'](\"Q3k3Wx2EBhYRKrR\");\r\n                                notPlay = false;\r\n                            }),\r\n                        );\r\n                        targetGoldNode.runAction(seq);\r\n                    }\r\n                    callback(node.id == nodeArray.length - 1);\r\n                    PoolMgr.Instance().put(node.name, node)\r\n                })\r\n            );\r\n            node.runAction(seq);\r\n        }\r\n    }\r\n\r\n    //定点数\r\n    public static fixFloat(val: number, count: number = 2) {\r\n        if(window && window['xxxxx']) window['xxxxx'](\"TxCXGipxXBicD2wYMAxxW\");\r\n        var a = count * 100\r\n        return Math.floor(val * a) / a;\r\n    }\r\n\r\n    public static playBreath(target:cc.Node,sscale = 1,tscale = 1.12,duration = 0.8,loop:boolean = true){\r\n        target.stopAllActions();\r\n        target.setScale(sscale);\r\n        let seq = cc.sequence(\r\n            cc.scaleTo(duration, tscale, tscale),\r\n            cc.scaleTo(duration, sscale, sscale),\r\n            cc.callFunc(() => {\r\n                if(loop) this.playBreath(target);\r\n            }),\r\n        );\r\n        return target.runAction(seq);\r\n    }\r\n\r\n};\r\n\r\n\r\n"]}