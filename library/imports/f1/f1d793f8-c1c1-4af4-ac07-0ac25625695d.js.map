{"version":3,"sources":["assets\\script\\game\\prefab\\FairyBonusUI.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAA2C;AAC3C,oDAA+C;AAC/C,mDAA8C;AAC9C,2CAAsC;AACtC,iDAA4C;AAC5C,4BAAwC;AAGlC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA0C,gCAAM;IAAhD;QAAA,qEA+CC;QA9CI,cAAQ,GAAG,EAAE,CAAC;;IA8CnB,CAAC;IA7CG,4BAAK,GAAL;QACI,IAAI,CAAC,GAAI,cAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,GAAG,oBAAe,CAAC,CAAC,GAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAEjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;YACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAE1B,kBAAQ,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC;IACrC,CAAC;IAED,gCAAS,GAAT;QAEI,kBAAQ,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC;QACjC,iBAAM,SAAS,WAAE,CAAC;IACtB,CAAC;IAED,mCAAY,GAAZ,UAAa,KAAK,EAAE,eAAe;QAAnC,iBA2BC;QA1BG,IAAI,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;QAChC,kBAAQ,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACrC,QAAQ,OAAO,EAAE;YACb,KAAK,WAAW;gBACZ,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,MAAM;YACV,KAAK,QAAQ;gBACT,kBAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC,EAAC,UAAC,CAAC;oBACzB,IAAG,CAAC,EACJ;wBACI,cAAI,CAAC,IAAI,CAAC,WAAW,GAAG,cAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;wBACpE,KAAI,CAAC,OAAO,EAAE,CAAC;qBAClB;gBACL,CAAC,CAAC,CAAA;gBACF,MAAM;YACV,KAAK,SAAS;gBACV,IAAG,cAAI,CAAC,IAAI,CAAC,GAAG,GAAC,CAAC,EAClB;oBACI,kBAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;oBACrB,OAAO;iBACV;gBACD,cAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;gBACnB,cAAI,CAAC,IAAI,CAAC,WAAW,GAAG,cAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACpE,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,MAAM;SACb;IACL,CAAC;IA7CgB,YAAY;QADhC,OAAO;OACa,YAAY,CA+ChC;IAAD,mBAAC;CA/CD,AA+CC,CA/CyC,gBAAM,GA+C/C;kBA/CoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import BaseUI from \"../../framwork/BaseUI\";\r\nimport MsgHints from \"../../framwork/MsgHints\";\r\nimport AdCenter from \"../../manager/AdCenter\";\r\nimport Data from \"../../manager/Data\";\r\nimport AudioMgr from \"../../utils/AudioMgr\";\r\nimport { DB_droneRewards } from \"../DB\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FairyBonusUI extends BaseUI {\r\n     superPot = [];\r\n    start () {\r\n        var t =  Data.user.GetMaxLv();\r\n        var n = DB_droneRewards[t+\"\"][1];\r\n        \r\n        for (var o = 0; o < 4; o++) \r\n            this.superPot.push(n);\r\n\r\n        AdCenter.Instance().showGridAd();\r\n    }\r\n\r\n    onDestroy()\r\n    {\r\n        AdCenter.Instance().hideGridAd();\r\n        super.onDestroy();\r\n    }\r\n    \r\n    onBtnClicked(event, customEventData) {\r\n        var btnName = event.target.name;\r\n        AudioMgr.Instance().playSFX(\"click\");\r\n        switch (btnName) {\r\n            case \"btn_close\":\r\n                this.closeUI();\r\n                break;\r\n            case \"btn_ad\":\r\n                AdCenter.Instance().play(0,(b)=>{\r\n                    if(b)\r\n                    {\r\n                        Data.user.DropGiftPts = Data.user.DropGiftPts.concat(this.superPot);\r\n                        this.closeUI();\r\n                    }\r\n                })\r\n                break;\r\n            case \"btn_gem\":\r\n                if(Data.user.gem<3)\r\n                {\r\n                    MsgHints.show(\"钻石不足\")\r\n                    return;\r\n                }\r\n                Data.user.gem -= 3;\r\n                Data.user.DropGiftPts = Data.user.DropGiftPts.concat(this.superPot);\r\n                this.closeUI();\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n"]}