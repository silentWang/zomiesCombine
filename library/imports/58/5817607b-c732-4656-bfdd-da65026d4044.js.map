{"version":3,"sources":["assets\\script\\game\\SoldierItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import BaseUI from \"../framwork/BaseUI\";\r\nimport Data from \"../manager/Data\";\r\nimport Utils from \"../utils/Utils\";\r\nimport { DB_plant } from \"./DB\";\r\nimport HallScene from \"./HallScene\";\r\nimport Bullet from \"./prefab/Bullet\";\r\nimport { PlantInfo } from \"./UserModel\";\r\n\r\n\r\nconst { ccclass, executeInEditMode, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class SoldierItem extends BaseUI {\r\n\r\n\r\n    @property(cc.Prefab)\r\n    bullet_pre:cc.Prefab = null;\r\n\r\n\r\n    index: number = -1;\r\n\r\n    linkItem: SoldierItem = null;\r\n    datacopy: PlantInfo = null;\r\n    bDrag: boolean = false;\r\n    droptype:number = 0;\r\n\r\n    droptype0endtime = 0;\r\n\r\n    setItemData(d: PlantInfo,droptype:number = -1) {// 3普通掉落 4小精灵掉落\r\n        if(droptype != -1)\r\n            this.droptype = droptype;\r\n\r\n        if(this.droptype!=0 &&  this.droptype0endtime < Utils.getServerTime())\r\n        {\r\n            this.droptype0endtime = Utils.getServerTime() + 10000;\r\n        }\r\n\r\n        //减少重绘制\r\n        if (this.datacopy && d) {\r\n            if (this.datacopy.index == d.index &&\r\n                this.datacopy.lv == d.lv &&\r\n                this.datacopy.open == d.open) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        // console.log(\"setItemData\",d)\r\n        this.datacopy = d ? JSON.parse(JSON.stringify(d)) : null;\r\n        if (this.datacopy)\r\n            this.datacopy.index = this.index;\r\n        this.updateItem();\r\n    }\r\n\r\n    private curplayani = \"\"\r\n    async updateItem() {\r\n        this.GetGameObject(\"level_1\").active = this.datacopy != null;\r\n        this.GetGameObject(\"flower1\").active = this.datacopy != null;\r\n        if (this.datacopy)\r\n        {\r\n            this.GetGameObject(\"lbl_lv\").getComponent(cc.Label).string = \"lv.\" + this.datacopy.lv;\r\n\r\n            if(this.droptype==0)\r\n            {\r\n                this.GetGameObject(\"lbl_lv\").active = true;\r\n\r\n                let info = DB_plant[Math.min(this.datacopy.lv - 1,59)];\r\n                this.cd = Number(info[1]);\r\n                if(this.curplayani !=  this.datacopy.lv + \"_idleL\")\r\n                {\r\n                    this.curplayani = this.datacopy.lv + \"_idleL\";\r\n                    this.GetSkeleton(\"flower1\").skeletonData = await Utils.loadRes(\"spine:flower\"+Math.min(this.datacopy.lv,60),sp.SkeletonData) as sp.SkeletonData;\r\n                    this.GetSkeleton(\"flower1\").setAnimation(0,\"idleL\",true);\r\n                    // console.log(\"====\",this.datacopy.lv,this.droptype)\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.GetGameObject(\"lbl_lv\").active = false;\r\n                if(this.droptype == 4)\r\n                {\r\n                    if(this.curplayani !=  \"pot1_idle\")\r\n                    {\r\n                        this.curplayani =  \"pot1_idle\";\r\n                        this.node.opacity = 0;\r\n                        this.GetSkeleton(\"flower1\").skeletonData = await Utils.loadRes(\"spine:pot1\",sp.SkeletonData) as sp.SkeletonData;\r\n                        this.GetSkeleton(\"flower1\").clearTracks();\r\n                        this.GetSkeleton(\"flower1\").setAnimation(0,\"fall\",false);\r\n                        this.node.opacity = 255;\r\n                        this.node.runAction(cc.sequence(cc.delayTime(0.8),cc.callFunc(()=>{\r\n                            this.GetSkeleton(\"flower1\").setAnimation(1,\"idle\",true);\r\n                        })));\r\n                        console.log(\"===2=\",this.datacopy.lv)\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    if(this.curplayani !=  \"pot3_idle\")\r\n                    {\r\n                        this.curplayani =  \"pot3_idle\";\r\n                        this.node.opacity = 0;\r\n                        this.GetSkeleton(\"flower1\").skeletonData = await Utils.loadRes(\"spine:pot3\",sp.SkeletonData) as sp.SkeletonData;\r\n                        this.GetSkeleton(\"flower1\").clearTracks();\r\n                        this.GetSkeleton(\"flower1\").setAnimation(0,\"fall\",false);\r\n                        this.node.opacity = 255;\r\n                        this.node.runAction(cc.sequence(cc.delayTime(0.8),cc.callFunc(()=>{\r\n                            this.GetSkeleton(\"flower1\").setAnimation(1,\"idle\",true);\r\n                        })));\r\n                        console.log(\"===1\",this.datacopy.lv)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private getTarget()\r\n    {\r\n        let enemylist = HallScene.Instance.enemylist;\r\n        let target = null;\r\n        let mindis = 400;\r\n        for(var i = 0;i<enemylist.length;++i)\r\n        {\r\n            if(enemylist[i].x< -cc.winSize.width/2)continue;\r\n            let dis = enemylist[i].position.sub(this.node.position).mag();\r\n            if(dis < mindis)\r\n            {\r\n                target = enemylist[i];\r\n                mindis = dis;\r\n            }\r\n        }\r\n\r\n        return target;\r\n    }\r\n    private cd = 0;\r\n    \r\n    private lastfire = 0;\r\n    update(dt)\r\n    {\r\n        if(dt>1)dt=1;\r\n        if(this.datacopy && this.droptype == 0 && Data.user.double_att_time>Utils.getServerTime())\r\n        {\r\n            this.GetSkeleton(\"flower1\").timeScale = 1.5;\r\n                this.GetGameObject(\"kb\").active = true;\r\n        }\r\n        else\r\n        {\r\n            this.GetSkeleton(\"flower1\").timeScale = 1\r\n            this.GetGameObject(\"kb\").active = false;\r\n        }\r\n        if(this.droptype!=0 )\r\n        {\r\n            if(Utils.getServerTime() > this.droptype0endtime)\r\n            {\r\n                this.droptype = 0;\r\n                this.updateItem();\r\n            }\r\n        }\r\n        if(this.bDrag)return;\r\n        if(!this.datacopy)return;\r\n        if(this.droptype!=0)return;\r\n\r\n        this.lastfire += dt\r\n\r\n        if(this.lastfire >= this.cd / ((Data.user.double_att_time>Utils.getServerTime())?2:1))\r\n        {\r\n            this.lastfire = 0;\r\n            let target = this.getTarget();\r\n            if(target)\r\n            {\r\n                this.node.runAction(cc.sequence(cc.delayTime(0.5),cc.callFunc(()=>{\r\n                    if(this.bDrag)return;\r\n                    if(!this.datacopy)return;\r\n\r\n                    let b = cc.instantiate(this.bullet_pre);\r\n                    b.position = this.node.position.add(target.x>this.node.x?cc.v3(15,35,0):cc.v3(-15,35,0));\r\n                    b.parent = HallScene.Instance.GetGameObject(\"node_bullet\");\r\n                    b.getComponent(Bullet).setInfo(target,this.datacopy.lv);\r\n                })))\r\n                if(target.x>this.node.x)\r\n                {\r\n                    this.GetSkeleton(\"flower1\").setAnimation(0,\"atkR\",false);\r\n                    this.GetSkeleton(\"flower1\").setAnimation(1,\"idleR\",true);\r\n                    this.curplayani = \"idleR\";\r\n                }\r\n                else\r\n                {\r\n                    this.GetSkeleton(\"flower1\").setAnimation(0,\"atkL\",false);\r\n                    this.GetSkeleton(\"flower1\").setAnimation(1,\"idleL\",true);\r\n                    this.curplayani = \"idleL\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}