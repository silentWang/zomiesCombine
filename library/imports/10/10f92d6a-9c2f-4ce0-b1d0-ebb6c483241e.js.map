{"version":3,"sources":["assets/script/manager/ChickData.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\nimport UserModel from \"../game/UserModel\";\nimport Utils from \"../utils/Utils\";\nimport AudioMgr from \"../utils/AudioMgr\";\nimport GameConst from \"../game/GameConst\";\n\nexport default class ChickData {\n    public static user: UserModel = new UserModel();\n\n    //本地存数据\n    private static savedata(data, bRemote: boolean = false) {\n        cc.sys.localStorage.setItem(\"savedatatime\", Utils.getServerTime());\n        var strdata = JSON.stringify(data);\n        cc.sys.localStorage.setItem(GameConst.cache_chick_data_key, strdata);\n    }\n\n    private Dgdse_ew332_fun(){ console.log(\"521ga56sd1g6sda51g5\"); }\n\n    public static save( bRemote: boolean = false) {\n        ChickData.resetOneDayData();\n        let obj = {}\n        obj['user'] = ChickData.user.getAllData()\n        ChickData.savedata(obj, bRemote)\n        //上传服务器\n        // if (window[\"wx\"]) {\n        //     window[\"wx\"].setUserCloudStorage({\n        //         KVDataList: [{ key: \"lv\", value: Math.floor(this.user.lv) + \"\" }]\n        //     })\n        // }\n    }\n    private ANhp_xxxx_fun(){ console.log(\"QfHBEHAifX8iAzz5d\"); }\n\n    public static resetOneDayData(){\n        let savedatatime = parseInt(cc.sys.localStorage.getItem(\"savedatatime\"));\n        if(savedatatime > 0){\n            let n = new Date(Utils.getServerTime()).getDate();\n            let d = new Date(savedatatime).getDate();\n            if(n != d){\n                ChickData.user.share_times = 10;\n                ChickData.user.today_getcoin_times = 0;\n                ChickData.user.today_getchick_times = 0;\n            }\n        }\n    }\n    private KGXM_xxxx_fun(){ console.log(\"D7G\"); }\n\n    public static loadData() {\n        var localdata = cc.sys.localStorage.getItem(GameConst.cache_chick_data_key);\n        if (localdata) {\n            localdata = JSON.parse(localdata);\n            ChickData.user.setData(localdata['user']);\n            this.resetOneDayData();\n            // Data.save();\n        }\n        else {\n            //没有档案重置下音乐开关\n            cc.sys.localStorage.setItem(\"bgmVolume\", 1);\n            cc.sys.localStorage.setItem(\"sfxVolume\", 1);\n            AudioMgr.Instance().sfxVolume = 1;\n            AudioMgr.Instance().bgmVolume = 1;\n        }\n    }\n\n}\n"]}