{"version":3,"sources":["assets/script/game/prefab/ShopView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import BaseUI from \"../../framwork/BaseUI\";\nimport List from \"../../framwork/List\";\nimport ChickData from \"../../manager/ChickData\";\nimport WxCenter from \"../../manager/WxCenter\";\nimport AudioMgr from \"../../utils/AudioMgr\";\nimport Utils from \"../../utils/Utils\";\nimport { Config_chick } from \"../Config\";\nimport GameConst from \"../GameConst\";\nimport ShopItem from \"./ShopItem\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class ShopView extends BaseUI{\n\n\n    private static _instance:cc.Node = null;\n    static show()\n    {\n        if(!ShopView._instance)\n        {\n            if(window && window['xxxxx']) window['xxxxx'](\"r6nwcchDZ6swy\");\n            Utils.createUI(\"prefab/ShopLayer\")\n        }\n        else\n        {\n            ShopView._instance.active = true;\n            ShopView._instance.getComponent(ShopView).reLoad();\n        }\n    }\n\n    list = null;\n    start () {\n        if(window && window['xxxxx']) window['xxxxx'](\"rasjRJpYskKJp7t5f2mQrN\");\n        WxCenter.aldReport('ShopShow','show');\n        ShopView._instance = this.node;\n        this.list = Config_chick\n        this.reLoad();\n        this.rigester(GameConst.BUY_CHICK,(gun:any,listid:number)=>{\n            this.GetGameObject(\"ScrollView\").getComponent(List).updateAppointed(listid);\n        })\n\n        this.rigester(GameConst.NEW_CHICK,()=>{\n            this.reLoad();\n        })\n    }\n\n    reLoad()\n    {\n        this.list = Config_chick;\n        let sview = this.GetGameObject(\"ScrollView\");\n        let list = sview.getComponent(List);\n        list.numItems = this.list.length;\n        var index = Math.max(0,ChickData.user.getLvlMax() - 5);\n        list.scrollTo(index,0.2);\n    }\n\n    onUIClicked(event,c)\n    {\n        if(window && window['xxxxx']) window['xxxxx'](\"3RbyFrh\");\n        AudioMgr.Instance().playMX(\"click\");\n        this.node.active = false;\n    }\n    \n    onListRender(item: cc.Node, idx: number) {\n        item.getComponent(ShopItem).setShopItemData(this.list[idx]);\n    }\n}\n"]}