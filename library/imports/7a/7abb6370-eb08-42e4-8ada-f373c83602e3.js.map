{"version":3,"sources":["assets/script/game/prefab/Enemy.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import BaseUI from \"../../framwork/BaseUI\";\nimport ChickData from \"../../manager/ChickData\";\nimport AudioMgr from \"../../utils/AudioMgr\";\nimport Utils from \"../../utils/Utils\";\nimport { Config_animals, Config_chick } from \"../Config\";\nimport HallScene from \"../HallScene\";\n\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Enemy extends BaseUI {\n\n\n    @property(cc.Prefab)\n    getcoin_pre:cc.Prefab = null;\n\n    private maxhp = 0\n    private hp = 0;\n    private money = 0;\n\n    public getBossMoney()\n    {\n        if(window && window['xxxxx']) window['xxxxx'](\"aHADP3AZFStniFm5CaTQ4ZZKD\");\n        if(this.type == 2)\n        {\n            if(ChickData.user.double_income_time > Utils.getServerTime())\n            {\n                this.money *= 2;\n            }\n            return (this.maxhp - this.hp)/this.maxhp * this.money;\n        }\n        return 0;\n    }\n\n    private type = 0;//0 普通 1 小boss 2大boss\n    async setID(id:number,boss:boolean)//是否boss\n    {\n        if(window && window['xxxxx']) window['xxxxx'](\"GCsyZmDR\");\n        this.type = boss ? 1:0;\n        let info = Config_animals[id+\"\"];\n        if(id > 100)\n        {\n            id -= 100;\n            this.type = 2;\n        }\n\n        if(id > 52) id = Utils.getRandomInt(1,52);\n\n        // this.GetGameObject(\"boss\").active = this.type == 2;\n        this.GetGameObject('sp').scale = this.type == 2 ? 1 : 0.74;\n        this.sped = info[2] * this.base_speed;\n        this.maxhp = info[1];\n        this.hp = this.maxhp;\n        this.money = Math.floor(info[3] * Utils.getRandom(0.8,1.2));\n\n        this.node.position = HallScene.Instance.path[0];\n        this.node.scale = this.type == 0 ? .8 : 1;\n        AudioMgr.Instance().playMX('chuxian')\n        let skpath = `spine:enemy${id}_ske`;\n        let atlaspath = `spine:enemy${id}_tex`;\n        let armature = this.GetDragonAmature(\"sp\");\n        armature.dragonAsset = await Utils.loadRes(skpath,dragonBones.DragonBonesAsset) as dragonBones.DragonBonesAsset;\n        if(window && window['xxxxx']) window['xxxxx'](\"3JiRbw352hnQ7FDmarf\");\n        armature.dragonAtlasAsset = await Utils.loadRes(atlaspath,dragonBones.DragonBonesAtlasAsset) as dragonBones.DragonBonesAtlasAsset;\n        armature.armatureName = \"Armature\";\n        armature.playAnimation('run',0);\n        this.GetGameObject(\"New ProgressBar\").opacity = 0;\n    }\n\n    hit(plantlv:number,skilltype:number)\n    {\n        if(this.hp <= 0)return;\n        let info = Config_chick[plantlv-1];\n        let power = Number(info[2])\n        let bbj = false;\n        let isskill = false;\n        if(skilltype == 1){\n            //减速\n            this.slowdown();\n            isskill = true;\n        }\n        else if(skilltype == 2){\n            //双倍伤害\n            power *= 2;\n            bbj = true;\n            isskill = true;\n            if(window && window['xxxxx']) window['xxxxx'](\"trDGiD8kCjPty7nYF5\");\n        }\n        else if(skilltype == 3){\n            //冰冻\n            isskill = true;\n            this.frozen();\n        }\n        \n        this.hp -= power;\n        this.hp = Math.max(this.hp,0)\n        this.SetProgressBar(\"New ProgressBar\",this.hp/this.maxhp);\n        this.GetGameObject(\"New ProgressBar\").stopAllActions();\n        this.GetGameObject(\"New ProgressBar\").opacity = 255;\n        this.GetGameObject(\"New ProgressBar\").runAction(cc.sequence(cc.delayTime(1),cc.fadeTo(0.2,0)))\n        if(window && window['xxxxx']) window['xxxxx'](\"CnP2FYK3fZjajrcdEZRe\");\n        if(!isskill) AudioMgr.Instance().playMX('hit');\n        if(bbj){\n            this.showBJ(power,Utils.getRandom(0,1)>0.5);\n        }\n        else{\n            this.showHurt(power,Utils.getRandom(0,1)>0.5);\n        }\n        if(this.hp <= 0)\n        {\n            HallScene.Instance.enemyDie(this.node,false);\n            if(window && window['xxxxx']) window['xxxxx'](\"XNwCJjGMaRQKMNP\");\n            this.GetGameObject(\"sp\").runAction(cc.sequence(cc.delayTime(0.5),cc.fadeTo(.2,0),cc.callFunc(()=>{\n                this.node.removeFromParent(true);\n            })))\n            if(ChickData.user.double_income_time > Utils.getServerTime())\n            {\n                this.money *= 2;\n            }\n\n            //daboss界面加钱\n            if(this.type != 2)\n            {\n                if(window && window['xxxxx']) window['xxxxx'](\"cKN\");\n                let node = cc.instantiate(this.getcoin_pre);\n                node.parent = this.node.parent;\n                node.getChildByName(\"lbl_add_coin\").getComponent(cc.Label).string = Utils.formatNumber(this.money);\n                node.position = this.node.position.add(cc.v3(0,50,0));\n                node.zIndex = 1000;\n                node.scale = 0.5\n                ChickData.user.coin+=this.money;\n                node.runAction(cc.sequence(cc.spawn(cc.scaleTo(0.2,1.3),cc.moveBy(0.2,0,80)),cc.delayTime(.8),cc.spawn(cc.moveBy(0.5,50),cc.fadeTo(0.5,50)),cc.removeSelf()));\n            }\n\n            // if(this.type == 2)\n            //     this.playSkAni(\"spine/other/death\",\"animation\",this.node,cc.v3(0,75,0),0.8)\n            // else\n            this.playSkeAni(\"spine:other/zhuoshao\",\"effect\",this.node,cc.v3(0,75,0),1).then((node)=>{\n                node.scale =2 ;\n            });\n        }\n        else\n        {\n            // this.GetGameObject(\"hit\").getComponent(cc.Animation).play(\"hit\");\n            this.playSkeAni(\"spine:other/jizhong\",\"animation\",this.node,cc.v3(0,75,0),1)\n            this.redendtime = Utils.getServerTime() + 300;\n        }\n        // this.GetGameObject(\"hit\").getComponent(cc.Animation).play(\"hit\");\n    }\n\n    slowdown()\n    {\n        if(window && window['xxxxx']) window['xxxxx'](\"sWPA2xEhiH8\");\n        AudioMgr.Instance().playMX(\"skill_slow\")\n        // this.GetSkeleton(\"sp\").timeScale = 0.5;\n        this.GetDragonAmature('sp').timeScale = 0.5;\n        this.GetGameObject(\"jiansu\").active = true;\n        this.GetGameObject(\"sp\").stopAllActions();\n        this.GetGameObject(\"sp\").runAction(cc.sequence(cc.delayTime(1),cc.callFunc(()=>{\n            this.GetGameObject(\"sp\").color = cc.Color.WHITE;\n            // this.GetSkeleton(\"sp\").timeScale = 1;\n            this.GetDragonAmature('sp').timeScale = 1;\n            this.GetGameObject(\"jiansu\").active = false;\n        })))\n    }\n\n    bfrozen = false;\n    frozen()\n    {\n        AudioMgr.Instance().playMX(\"skill_freeze\")\n        this.bfrozen = true;\n        this.GetGameObject(\"fx_stun\").stopAllActions();\n        if(window && window['xxxxx']) window['xxxxx'](\"mhNZcpD2dfTJK\");\n        this.GetGameObject(\"fx_stun\").active = true;\n        this.purpleendtime = Utils.getServerTime() + 1000;\n        // this.GetSkeleton(\"sp\").paused = true;\n        this.GetGameObject(\"fx_stun\").runAction(cc.sequence(cc.delayTime(1),cc.callFunc(()=>{\n            this.GetGameObject(\"fx_stun\").active = false;\n            // this.GetSkeleton(\"sp\").paused = false;  \n            this.bfrozen = false;\n        })))\n    }\n\n    private pathindex = 1;\n    private sped = 1;\n    private base_speed =50 ;\n\n    private redendtime = 0;\n    private purpleendtime = 0;\n    public static mul = 1;\n    update(dt)\n    {\n        if(dt>1)dt=1;\n        if(this.redendtime>Utils.getServerTime())\n        {\n            this.GetGameObject(\"sp\").color = cc.Color.RED.fromHEX(\"#7C82DE\")\n        }\n        else if(this.purpleendtime>Utils.getServerTime())\n        {\n            this.GetGameObject(\"sp\").color = cc.Color.RED.fromHEX(\"#ED7373\")\n        }\n        else\n        {\n            this.GetGameObject(\"sp\").color =cc.Color.WHITE\n        }\n\n        if(this.bfrozen)return;\n        if(!HallScene.Instance.path[this.pathindex])return;\n        let d = HallScene.Instance.path[this.pathindex].sub(this.node.position);\n        if(d.mag() < this.sped * dt)\n        {\n            this.node.position =HallScene.Instance.path[this.pathindex];\n            this.pathindex++;\n            if(window && window['xxxxx']) window['xxxxx'](\"PTw32TyhaeZtjyjW3FJ7kRXFjyB\");\n            if(this.pathindex == 3)\n                this.GetGameObject(\"sp\").scaleX = -0.74;\n\n            if(this.pathindex>=HallScene.Instance.path.length)\n            {\n                HallScene.Instance.enemyDie(this.node,true);\n                this.node.removeFromParent(true)\n            }\n        }\n        else\n        {\n            let v = d.normalize().mul(Enemy.mul *   this.sped * dt);\n            this.node.position =this.node.position.add(v);\n        }\n    }\n\n    showHurt(num: number, forward: boolean = false) {\n        var node = cc.instantiate(this.GetGameObject(\"fs_hurt\"));\n        node.parent = this.node;\n        if (forward) node.x *= -1;\n        node.getComponent(cc.Label).string = Utils.formatCoin(num);\n        node.active = true;\n        if(window && window['xxxxx']) window['xxxxx'](\"aChcC5HmTyY3D56zw\");\n        var bezier;\n        if (forward) {\n            bezier = [cc.v2(-10, 50), cc.v2(-40, 60), cc.v2(-60, 20)];\n        } else {\n            bezier = [cc.v2(10, 50), cc.v2(40, 60), cc.v2(60, 20)];\n        }\n        var bezierForward = cc.bezierBy(1, bezier);\n        node.runAction(cc.sequence(\n            cc.spawn(\n                // cc.fadeTo(1, 0),\n                cc.scaleTo(1, 0.6),\n                bezierForward\n            ),\n            cc.removeSelf()\n        ));\n    }\n\n    showBJ(num: number, forward: boolean = false) {\n        AudioMgr.Instance().playMX(\"skill_crit\")\n        var node = cc.instantiate(this.GetGameObject(\"wl_baoji\"));\n        node.parent = this.node;\n        if (forward) node.x *= -1;\n        node.getComponent(cc.Label).string = Utils.formatCoin(num);\n        node.active = true;\n        if(window && window['xxxxx']) window['xxxxx'](\"mA23Ppek68DcMrPddYS6sfyMEhZjEPhc\");\n        node.scale = 0.2;\n        var bezier;\n        var bezier1;\n        if (forward) {\n            bezier = [cc.v2(-5, 20), cc.v2(-8, 30), cc.v2(-10, 30)];\n            bezier1 = [cc.v2(-5, -20), cc.v2(-8, -30), cc.v2(-10, -30)];\n        } else {\n            bezier = [cc.v2(5, 20), cc.v2(8, 30), cc.v2(10, 30)];\n            bezier1 = [cc.v2(5, -20), cc.v2(8, -30), cc.v2(10, -30)];\n        }\n        var bezierFront = cc.bezierBy(0.2, bezier);\n        var bezierBack = cc.bezierBy(0.5, bezier1);\n        node.runAction(cc.sequence(\n            cc.spawn(\n                // cc.moveBy(0.2, 0, 30),\n                cc.scaleTo(0.2, 1),\n                bezierFront\n            ),\n            cc.delayTime(0.5),\n            cc.spawn(\n                // cc.moveBy(0.2, 0, -30),\n                cc.scaleTo(0.5, 0.2),\n                bezierBack,\n                cc.fadeOut(0.5),\n            ),\n            cc.removeSelf()\n        ));\n    }\n    \n}\n"]}