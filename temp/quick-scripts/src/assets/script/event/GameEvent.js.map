{"version":3,"sources":["assets\\script\\event\\GameEvent.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,kDAA6C;AAE7C;IAAuC,6BAAS;IAAhD;QAAA,qEAyCC;QAvCG,eAAS,GAAG,EAAE,CAAC;QAEf,UAAI,GAAQ,IAAI,CAAC;QACjB,UAAI,GAAQ,IAAI,CAAC;QACjB,cAAQ,GAAa,IAAI,CAAC;;IAmC9B,CAAC;IAlCG,4BAAQ,GAAR,UAAS,IAAI,EAAE,IAAI,EAAE,EAAE;QACnB,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;QACrB,KAAK,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;QACrB,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;QAEvB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;YACtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;SAC7B;QAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAAA,CAAC;IAGF,4BAAQ,GAAR,UAAS,IAAI;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QAClB,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,KAAK,IAAI,CAAC,IAAI,MAAM,EAAE;gBAClB,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACtB,KAAK,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,QAAQ,OAAd,KAAK,EAAa,IAAI,EAAE,CAAC;aAC/C;SACJ;IACL,CAAC;IAAA,CAAC;IAEF,8BAAU,GAAV,UAAW,IAAI,EAAE,IAAI;QACjB,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,MAAM,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,KAAK;gBACxB,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,EAAE;oBAC5C,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBAC3B;YACL,CAAC,CAAC,CAAC;SACN;QAAA,CAAC;IACN,CAAC;IAAA,CAAC;IACN,gBAAC;AAAD,CAzCA,AAyCC,CAzCsC,mBAAS,GAyC/C;;AAAA,CAAC","file":"","sourceRoot":"/","sourcesContent":["import Singleton from \"../manager/Singleton\";\r\n\r\nexport default class GameEvent extends Singleton {\r\n\r\n    eventHash = {};\r\n\r\n    ower: any = null;\r\n    type: any = null;\r\n    callback: Function = null;\r\n    register(ower, type, cb) {\r\n        var event = {};\r\n        event[\"ower\"] = ower;\r\n        event[\"type\"] = type;\r\n        event[\"callback\"] = cb;\r\n\r\n        if (!this.eventHash.hasOwnProperty(type)) {\r\n            this.eventHash[type] = [];\r\n        }\r\n\r\n        this.eventHash[type].push(event);\r\n    };\r\n\r\n    \r\n    dispatch(type, ...data) {\r\n        var events = this.eventHash[type];\r\n        if (events && events.length > 0) {\r\n            for (var i in events) {\r\n                var event = events[i];\r\n                event.callback && (event.callback(...data));\r\n            }\r\n        }\r\n    };\r\n\r\n    unregister(ower, type) {\r\n        var events = this.eventHash[type];\r\n        if (events && events.length > 0) {\r\n            events.forEach((event, index) => {\r\n                if (event.ower === ower && event.type === type) {\r\n                    events.splice(index, 1);\r\n                }\r\n            });\r\n        };\r\n    };\r\n};"]}