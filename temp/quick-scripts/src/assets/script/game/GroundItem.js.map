{"version":3,"sources":["assets/script/game/GroundItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6CAAwC;AACxC,kDAA6C;AAC7C,mCAAyC;AAMnC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAM;IAA9C;QAAA,qEA4EC;QAjBW,WAAK,GAAG,CAAC,CAAC;;IAiBtB,CAAC;mBA5EoB,UAAU;IAEpB,sBAAW,GAAlB;QAEI,IAAI,OAAO,GAAG,CAAC,CAAC,CAAA;QAChB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,EAAE,EAAC,EAAE,CAAC,EACxB;YACI,IAAG,mBAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,EAC/B;gBACI,OAAO,GAAG,CAAC,CAAC;gBACZ,MAAM;aACT;SACJ;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,gCAAW,GAAX,UAAY,KAAK,EAAE,eAAe;QAC9B,uCAAuC;QACvC,2BAA2B;QAC3B,8BAA8B;QAC9B,IAAI;QACJ,0CAA0C;QAC1C,cAAc;QACd,IAAI;QAEJ,oCAAoC;QACpC,gBAAgB;QAChB,IAAI;QACJ,kDAAkD;QAClD,QAAQ;QACR,iCAAiC;QACjC,iBAAiB;QACjB,QAAQ;QACR,IAAI;QACJ,OAAO;QACP,IAAI;QACJ,iDAAiD;QACjD,QAAQ;QACR,iCAAiC;QACjC,iBAAiB;QACjB,QAAQ;QACR,IAAI;QAEJ,gCAAgC;QAChC,gBAAgB;QAChB,IAAI;QACJ,+CAA+C;QAC/C,IAAI;QACJ,OAAO;QACP,IAAI;QACJ,8CAA8C;QAC9C,IAAI;QACJ,8BAA8B;QAC9B,4BAA4B;QAC5B,eAAe;QACf,8CAA8C;QAC9C,6BAA6B;IACjC,CAAC;IAGD,6BAAQ,GAAR,UAAS,CAAC;QAEN,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,CAAC,WAAW,EAAC,CAAC,GAAC,EAAE,CAAC,CAAC;QAC/B,IAAI,OAAO,GAAG,YAAU,CAAC,WAAW,EAAE,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,GAAC,CAAC,IAAE,OAAO,IAAI,OAAO,IAAG,CAAC,CAAC,CAAC;QAEvF,yDAAyD;QACzD,gDAAgD;QAChD,IAAI,IAAI,GAAG,mBAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC;QACnD,IAAI,GAAG,GAAO,sBAAa,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,KAAK,WAAG,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,eAAe,EAAC,GAAG,CAAC,CAAC;IACtC,CAAC;;IA3EgB,UAAU;QAD9B,OAAO;OACa,UAAU,CA4E9B;IAAD,iBAAC;CA5ED,AA4EC,CA5EuC,gBAAM,GA4E7C;kBA5EoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import BaseUI from '../framwork/BaseUI';\nimport ChickData from '../manager/ChickData';\nimport { Config_ground } from './Config';\nimport Utils from '../utils/Utils';\nimport MsgToast from '../framwork/MsgToast';\nimport GameConst from './GameConst';\nimport HallScene from './HallScene';\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class GroundItem extends BaseUI {\n\n    static getNeedOpen()\n    {\n        let curopen = -1\n        for(var i = 1;i < 12;++i)\n        {\n            if(ChickData.user.slots[i] == 0)\n            {\n                curopen = i;\n                break;\n            }\n        }\n        return curopen;\n    }\n\n    onUIClicked(event, customEventData) {\n        // let curopen = SlotItem.getCurOpen();\n        // if(curopen == -1)return;\n        // if(this.index-1 > curopen )\n        // {\n        //     MsgHints.show(\"需要先解锁\"+(curopen+1));\n        //     return;\n        // }\n\n        // let type = DB_slot[curopen].type;\n        // if(type == 0)\n        // {\n        //     if(Data.user.coin < DB_slot[curopen].price)\n        //     {\n        //         MsgHints.show(\"金币不足\");\n        //         return\n        //     }\n        // }\n        // else\n        // {\n        //     if(Data.user.gem < DB_slot[curopen].price)\n        //     {\n        //         MsgHints.show(\"钻石不足\");\n        //         return\n        //     }\n        // }\n\n        // Data.user.slots[curopen] = 1;\n        // if(type == 0)\n        // {\n        //     Data.user.coin -= DB_slot[curopen].price\n        // }\n        // else\n        // {\n        //     Data.user.gem -= DB_slot[curopen].price\n        // }\n        // console.log(\"解锁土地\",curopen)\n        // MsgHints.show(\"成功解锁新位置\");\n        // Data.save();\n        // this.dispatch(GameConst.OPEN_SLOT,curopen);\n        // this.setIndex(this.index);\n    }\n\n    private index = 0;\n    setIndex(i)\n    {\n        this.index = i;\n        this.SetText(\"lbl_index\",i+\"\");\n        let curopen = GroundItem.getNeedOpen();\n        this.node.getComponent(cc.Button).interactable = this.index-1>=curopen && curopen !=-1;\n\n        // this.GetSkeleton(\"fx_slot\").setAnimation(0,\"buy\",true)\n        // this.GetGameObject(\"fx_slot\").active = false;\n        let info = ChickData.user.slots[i-1];\n        this.GetGameObject(\"lock\").active = info == 0;\n        this.GetGameObject(\"lbl_index\").active = info == 0;\n        this.GetGameObject(\"node_cost\").active = info == 0;\n        let str  = `${Config_ground[i-1].price}关`;\n        this.SetText(\"lbl_open_cost\",str);\n    }\n}\n"]}