{"version":3,"sources":["assets\\script\\manager\\ChickData.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport UserModel from \"../game/UserModel\";\r\nimport Utils from \"../utils/Utils\";\r\nimport AudioMgr from \"../utils/AudioMgr\";\r\nimport GameConst from \"../game/GameConst\";\r\n\r\nexport default class ChickData {\r\n    public static user: UserModel = new UserModel();\r\n\r\n    //本地存数据\r\n    private static savedata(data, bRemote: boolean = false) {\r\n        cc.sys.localStorage.setItem(\"savedatatime\", Utils.getServerTime());\r\n        var strdata = JSON.stringify(data);\r\n        cc.sys.localStorage.setItem(GameConst.cache_chick_data_key, strdata);\r\n    }\r\n\r\n    private Dgdse_ew332_fun(){ console.log(\"521ga56sd1g6sda51g5\"); }\r\n\r\n    public static save( bRemote: boolean = false) {\r\n        ChickData.resetOneDayData();\r\n        let obj = {}\r\n        obj['user'] = ChickData.user.getAllData()\r\n        if(window && window['xxxxx']) window['xxxxx'](\"Y7j3rkTtcF8rsdfbMGEj7K\");\r\n        ChickData.savedata(obj, bRemote)\r\n        //上传服务器\r\n        // if (window[\"wx\"]) {\r\n        //     window[\"wx\"].setUserCloudStorage({\r\n        //         KVDataList: [{ key: \"lv\", value: Math.floor(this.user.lv) + \"\" }]\r\n        //     })\r\n        // }\r\n    }\r\n    private ANhp_xxxx_fun(){ console.log(\"QfHBEHAifX8iAzz5d\"); }\r\n\r\n    public static resetOneDayData(){\r\n        let savedatatime = parseInt(cc.sys.localStorage.getItem(\"savedatatime\"));\r\n        if(savedatatime > 0){\r\n            let n = new Date(Utils.getServerTime()).getDate();\r\n            let d = new Date(savedatatime).getDate();\r\n            if(n != d){\r\n                ChickData.user.share_times = 10;\r\n                ChickData.user.today_getcoin_times = 0;\r\n                ChickData.user.today_getchick_times = 0;\r\n            }\r\n        }\r\n    }\r\n    private KGXM_xxxx_fun(){ console.log(\"D7G\"); }\r\n\r\n    public static loadData() {\r\n        if(window && window['xxxxx']) window['xxxxx'](\"B3fxQr3P\");\r\n        var localdata = cc.sys.localStorage.getItem(GameConst.cache_chick_data_key);\r\n        if (localdata) {\r\n            localdata = JSON.parse(localdata);\r\n            ChickData.user.setData(localdata['user']);\r\n            this.resetOneDayData();\r\n            // Data.save();\r\n        }\r\n        else {\r\n            //没有档案重置下音乐开关\r\n            if(window && window['xxxxx']) window['xxxxx'](\"TXeAr\");\r\n            cc.sys.localStorage.setItem(\"bgmVolume\", 1);\r\n            cc.sys.localStorage.setItem(\"sfxVolume\", 1);\r\n            AudioMgr.Instance().sfxVolume = 1;\r\n            AudioMgr.Instance().bgmVolume = 1;\r\n        }\r\n    }\r\n\r\n}\r\n"]}