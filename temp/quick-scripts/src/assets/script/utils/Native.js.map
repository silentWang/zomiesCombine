{"version":3,"sources":["assets\\script\\utils\\Native.ts"],"names":[],"mappings":";;;;;;;AAAA;IAAA;IAsCA,CAAC;IArCU,oBAAa,GAApB,UAAqB,UAAiB,EAAC,MAAe,EAAC,QAAwB;QAAxC,uBAAA,EAAA,WAAe;QAAC,yBAAA,EAAA,eAAwB;QAC3E,IAAG,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,CAAC,GAAG,CAAC,MAAM;YAAE,OAAO;QACvC,IAAI,QAAQ,GAAG,eAAe,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QACtD,MAAM,CAAC,QAAQ,CAAC,GAAG,UAAC,GAAG;YACnB,OAAO,CAAC,GAAG,CAAC,uBAAqB,UAAY,EAAC,GAAG,CAAC,CAAA;YAClD,QAAQ,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC1B,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;QAC5B,CAAC,CAAA;QACD,IAAI,GAAG,GAAG,EAAC,MAAM,EAAC,QAAQ,EAAC,MAAM,QAAA,EAAC,CAAC;QACnC,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC/B,IAAI,SAAS,GAAG,KAAG,UAAU,GAAG,IAAM,CAAC;QACvC,OAAO,CAAC,GAAG,CAAC,wBAAsB,UAAU,WAAM,SAAW,CAAC,CAAA;QAC9D,IAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,gBAAgB,EAAE;YAC5D,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAA;YACpC,OAAO;SACV;QACD,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,gBAAgB,EAAI,UAAU,MAAG,EAAC,IAAI,CAAC,CAAA;IAC3E,CAAC;IAEM,oBAAa,GAApB;QACI,IAAI,CAAC,aAAa,CAAC,eAAe,EAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,OAAO,EAAC,EAAC,UAAC,GAAG;YACnD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAC,GAAG,CAAC,CAAA;QAC3C,CAAC,CAAC,CAAC;IACP,CAAC;IACD,UAAU;IACH,kBAAW,GAAlB,UAAmB,QAAiB,EAAC,QAAe;QAChD,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAC,EAAC,QAAQ,UAAA,EAAC,EAAC,UAAC,GAAG;YAClD,QAAQ,IAAI,QAAQ,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IACD,UAAU;IACH,yBAAkB,GAAzB,UAA0B,QAAe,EAAC,QAAwB;QAAxB,yBAAA,EAAA,eAAwB;QAC9D,IAAI,CAAC,aAAa,CAAC,yBAAyB,EAAC,EAAC,QAAQ,UAAA,EAAC,EAAC,UAAC,GAAG;YACxD,QAAQ,IAAI,QAAQ,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAEL,aAAC;AAAD,CAtCA,AAsCC,IAAA;AAtCY,wBAAM","file":"","sourceRoot":"/","sourcesContent":["export class Native {\r\n    static callAppMethod(methodName:string,params:any = '',callback:Function = null){\r\n        if(cc.sys.os !== cc.sys.OS_IOS) return;\r\n        let callfunc = 'callBackFunc_' + new Date().getTime();\r\n        window[callfunc] = (res)=>{\r\n            console.log(`---ios callback---${methodName}`,res)\r\n            callback && callback(res);\r\n            window[callfunc] = null;\r\n        }\r\n        let obj = {method:callfunc,params};\r\n        let json = JSON.stringify(obj);\r\n        let methodstr = `${methodName}${json}`;\r\n        console.log(`----HWGameJSHandle:${methodName}---${methodstr}`)\r\n        if(!jsb || !jsb.reflection || !jsb.reflection.callStaticMethod) {\r\n            console.log('HWGameJSHandle:找不到jsb')\r\n            return;\r\n        }\r\n        jsb.reflection.callStaticMethod('HWGameJSHandle',`${methodName}:`,json)\r\n    }\r\n\r\n    static getAppVersion(){\r\n        this.callAppMethod('getAppVersion',{x:1,y:'25222'},(res)=>{\r\n            console.log('getAppVersion ios 回调',res)\r\n        });\r\n    }\r\n    /**视频广告 */\r\n    static playVideoAd(callback:Function,adUnitId:string){\r\n        this.callAppMethod('loadTopOnRewardAd',{adUnitId},(res)=>{\r\n            callback && callback();\r\n        });\r\n    }\r\n    /**插屏广告 */\r\n    static showInterstitialAd(adUnitId:string,callback:Function = null){\r\n        this.callAppMethod('loadTopOnInterstitialAd',{adUnitId},(res)=>{\r\n            callback && callback();\r\n        });\r\n    }\r\n\r\n}"]}