{"version":3,"sources":["assets\\script\\framwork\\MsgToast.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAyC;AAEnC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAY;IAAlD;;IAmCA,CAAC;iBAnCoB,QAAQ;IAIX,aAAI,GAAlB,UAAmB,GAAW;QAC1B,IAAI,GAAG,IAAI,EAAE;YAAE,OAAO;QACtB,IAAI,UAAQ,CAAC,OAAO,IAAI,IAAI,EAAE;YAC1B,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,yBAAyB,EAAE,UAAC,GAAG,EAAE,MAAM;gBACrD,IAAI,GAAG,EAAE;oBACL,OAAO;iBACV;gBACD,UAAQ,CAAC,OAAO,GAAG,MAAM,CAAC;gBAC1B,iBAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,WAAW,EAAE,UAAQ,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBAC/D,UAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO;SACV;QAED,iBAAiB;QACjB,IAAI,iBAAO,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC;YAAE,OAAO;QAE9D,IAAI,IAAI,GAAY,iBAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAA,mCAAmC;QAC3F,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;YAAE,MAAM,CAAC,OAAO,CAAC,CAAC,iCAAiC,CAAC,CAAC;QACjF,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC;QAClC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACjE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,UAAU,EAAE;YAC3C,kBAAkB;YAClB,IAAG,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC;gBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC;YACxD,iBAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACP,CAAC;;IA/Bc,gBAAO,GAAG,IAAI,CAAC;IAFb,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAmC5B;IAAD,eAAC;CAnCD,AAmCC,CAnCqC,EAAE,CAAC,SAAS,GAmCjD;kBAnCoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import PoolMgr from \"../manager/PoolMgr\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MsgToast extends cc.Component {\r\n\r\n    private static _prefab = null;\r\n\r\n    public static show(msg: string) {\r\n        if (msg == \"\") return;\r\n        if (MsgToast._prefab == null) {\r\n            cc.loader.loadRes(\"prefab/common/msg_hints\", (err, prefab) => {\r\n                if (err) {\r\n                    return;\r\n                }\r\n                MsgToast._prefab = prefab;\r\n                PoolMgr.Instance().initPool(\"msg_hints\", MsgToast._prefab, 20);\r\n                MsgToast.show(msg);\r\n            });\r\n            return;\r\n        }\r\n\r\n        //对象池没有对象就不显示了   \r\n        if (PoolMgr.Instance().pools[\"msg_hints\"].size() == 0) return;\r\n\r\n        var node: cc.Node = PoolMgr.Instance().get(\"msg_hints\");//cc.instantiate(MsgHints._prefab);\r\n        if(window && window['xxxxx']) window['xxxxx'](\"mpQRyXyQEKNcDa53tXxChwxY6dNZrnS\");\r\n        node.scaleY = 0;\r\n        node.parent = cc.find(\"Canvas\");\r\n        node.zIndex = cc.macro.MAX_ZINDEX;\r\n        node.getChildByName(\"label\").getComponent(cc.Label).string = msg;\r\n        node.getComponent(cc.Animation).play(\"msghints\", 0);\r\n        node.getComponent(cc.Animation).on('finished', () => {\r\n            // node.destroy();\r\n            if(window && window['xxxxx']) window['xxxxx'](\"C2mstZ\");\r\n            PoolMgr.Instance().put(\"msg_hints\", node);\r\n        });\r\n    }\r\n\r\n}"]}